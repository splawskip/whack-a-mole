(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function c(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(o){if(o.ep)return;o.ep=!0;const r=c(o);fetch(o.href,r)}})();const e={$:{currentScore:document.querySelector('[data-game="current-score"]'),highestScore:document.querySelector('[data-game="highest-score"]'),backyard:document.querySelector('[data-game="board"]'),holes:document.querySelectorAll('[data-game="hole"]'),startButton:document.querySelector('[data-game="start-button"]')},lastHole:null,timeUp:!1,score:0,highestScore:localStorage.getItem("highestScore")??0,getRandomTime(t,s){return Math.round(Math.random()*(s-t)+t)},getRandomHole(t){const s=Math.floor(Math.random()*t.length),c=t[s];return c===e.lastHole?e.getRandomHole(t):(e.lastHole=c,c)},peepMole(){const t=e.getRandomTime(200,1e3),s=e.getRandomHole(e.$.holes);s.classList.add("peep"),setTimeout(()=>{s.classList.remove("peep"),e.timeUp||e.peepMole()},t)},bonkMole(t){t.isTrusted&&(e.score+=1,t.target.classList.remove("peep"),e.$.currentScore.textContent=e.score)},startGame(){e.$.currentScore.textContent=0,e.timeUp=!1,e.score=0,e.peepMole(),setTimeout(()=>{e.timeUp=!0,e.score>e.highestScore&&(e.highestScore=e.score,e.$.highestScore.textContent=e.score,localStorage.setItem("highestScore",e.score))},1e4)},bindEvents(){e.$.backyard.addEventListener("click",t=>{t.target.matches('[data-game="mole"]')&&e.bonkMole(t)}),e.$.startButton.addEventListener("click",e.startGame)},boot(){e.bindEvents(),e.$.highestScore.textContent=e.highestScore}};e.boot();
